import{X as Me,ay as ye,w as L,o as te,j as oe,g as G,r as E,a as S,az as _e,t as ke,aA as Ae,s as le,n as Z,z as we,aB as xe,am as qe,h as C,p as W,b as X,Q as re,J as Ve,D as Re,aC as Fe,B as Ee,c as Ce,I as fe,an as Be,A as Pe,a0 as $e,aq as Ie,a1 as Te,ac as Oe,a2 as De,a5 as je,ab as Q,a4 as ne,aD as Le,a9 as K,_ as Ue,au as ze,af as Ne,H as Ze,ag as Ke,ah as He}from"./index.20ae9b3e.js";import{u as Qe,a as Ge,Q as We}from"./QCard.6ed154ce.js";import{u as Xe,b as se,e as Je,c as Ye,f as et}from"./use-form.26c4a265.js";function tt({validate:e,resetValidation:t,requiresQForm:u}){const i=Me(ye,!1);if(i!==!1){const{props:v,proxy:s}=G();Object.assign(s,{validate:e,resetValidation:t}),L(()=>v.disable,m=>{m===!0?(typeof t=="function"&&t(),i.unbindComponent(s)):i.bindComponent(s)}),te(()=>{v.disable!==!0&&i.bindComponent(s)}),oe(()=>{v.disable!==!0&&i.unbindComponent(s)})}else u===!0&&console.error("Parent QForm not found on useFormChild()!")}const ce=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,ve=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,me=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,J=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Y=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,ae={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ce.test(e),hexaColor:e=>ve.test(e),hexOrHexaColor:e=>me.test(e),rgbColor:e=>J.test(e),rgbaColor:e=>Y.test(e),rgbOrRgbaColor:e=>J.test(e)||Y.test(e),hexOrRgbColor:e=>ce.test(e)||J.test(e),hexaOrRgbaColor:e=>ve.test(e)||Y.test(e),anyColor:e=>me.test(e)||J.test(e)||Y.test(e)},ot=[!0,!1,"ondemand"],nt={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>ot.includes(e)}};function at(e,t){const{props:u,proxy:i}=G(),v=E(!1),s=E(null),m=E(null);tt({validate:M,resetValidation:g});let y=0,q;const k=S(()=>u.rules!==void 0&&u.rules!==null&&u.rules.length>0),w=S(()=>u.disable!==!0&&k.value===!0),b=S(()=>u.error===!0||v.value===!0),T=S(()=>typeof u.errorMessage=="string"&&u.errorMessage.length>0?u.errorMessage:s.value);L(()=>u.modelValue,()=>{U()}),L(()=>u.reactiveRules,I=>{I===!0?q===void 0&&(q=L(()=>u.rules,()=>{U(!0)})):q!==void 0&&(q(),q=void 0)},{immediate:!0}),L(e,I=>{I===!0?m.value===null&&(m.value=!1):m.value===!1&&(m.value=!0,w.value===!0&&u.lazyRules!=="ondemand"&&t.value===!1&&R())});function g(){y++,t.value=!1,m.value=null,v.value=!1,s.value=null,R.cancel()}function M(I=u.modelValue){if(w.value!==!0)return!0;const z=++y,_=t.value!==!0?()=>{m.value=!0}:()=>{},x=(o,a)=>{o===!0&&_(),v.value=o,s.value=a||null,t.value=!1},A=[];for(let o=0;o<u.rules.length;o++){const a=u.rules[o];let r;if(typeof a=="function"?r=a(I,ae):typeof a=="string"&&ae[a]!==void 0&&(r=ae[a](I)),r===!1||typeof r=="string")return x(!0,r),!1;r!==!0&&r!==void 0&&A.push(r)}return A.length===0?(x(!1),!0):(t.value=!0,Promise.all(A).then(o=>{if(o===void 0||Array.isArray(o)===!1||o.length===0)return z===y&&x(!1),!0;const a=o.find(r=>r===!1||typeof r=="string");return z===y&&x(a!==void 0,a),a===void 0},o=>(z===y&&(console.error(o),x(!0)),!1)))}function U(I){w.value===!0&&u.lazyRules!=="ondemand"&&(m.value===!0||u.lazyRules!==!0&&I!==!0)&&R()}const R=_e(M,0);return oe(()=>{q!==void 0&&q(),R.cancel()}),Object.assign(i,{resetValidation:g,validate:M}),ke(i,"hasError",()=>b.value),{isDirtyModel:m,hasRules:k,hasError:b,errorMessage:T,validate:M,resetValidation:g}}const ge=/^on[A-Z]/;function lt(e,t){const u={listeners:E({}),attributes:E({})};function i(){const v={},s={};for(const m in e)m!=="class"&&m!=="style"&&ge.test(m)===!1&&(v[m]=e[m]);for(const m in t.props)ge.test(m)===!0&&(s[m]=t.props[m]);u.attributes.value=v,u.listeners.value=s}return Ae(i),i(),u}function ue(e){return e===void 0?`f_${Xe()}`:e}function ie(e){return e!=null&&(""+e).length>0}const rt={...Qe,...nt,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},ut=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function it(){const{props:e,attrs:t,proxy:u,vnode:i}=G();return{isDark:Ge(e,u.$q),editable:S(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:E(!1),focused:E(!1),hasPopupOpen:!1,splitAttrs:lt(t,i),targetUid:E(ue(e.for)),rootRef:E(null),targetRef:E(null),controlRef:E(null)}}function st(e){const{props:t,emit:u,slots:i,attrs:v,proxy:s}=G(),{$q:m}=s;let y=null;e.hasValue===void 0&&(e.hasValue=S(()=>ie(t.modelValue))),e.emitValue===void 0&&(e.emitValue=n=>{u("update:modelValue",n)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:f,onFocusout:c}),Object.assign(e,{clearValue:d,onControlFocusin:f,onControlFocusout:c,focus:a}),e.computedCounter===void 0&&(e.computedCounter=S(()=>{if(t.counter!==!1){const n=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,h=t.maxlength!==void 0?t.maxlength:t.maxValues;return n+(h!==void 0?" / "+h:"")}}));const{isDirtyModel:q,hasRules:k,hasError:w,errorMessage:b,resetValidation:T}=at(e.focused,e.innerLoading),g=e.floatingLabel!==void 0?S(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):S(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),M=S(()=>t.bottomSlots===!0||t.hint!==void 0||k.value===!0||t.counter===!0||t.error!==null),U=S(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),R=S(()=>`q-field row no-wrap items-start q-field--${U.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(g.value===!0?" q-field--float":"")+(z.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(w.value===!0?" q-field--error":"")+(w.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&M.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),I=S(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(w.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),z=S(()=>t.labelSlot===!0||t.label!==void 0),_=S(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&w.value!==!0?` text-${t.labelColor}`:"")),x=S(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:g.value,modelValue:t.modelValue,emitValue:e.emitValue})),A=S(()=>{const n={for:e.targetUid.value};return t.disable===!0?n["aria-disabled"]="true":t.readonly===!0&&(n["aria-readonly"]="true"),n});L(()=>t.for,n=>{e.targetUid.value=ue(n)});function o(){const n=document.activeElement;let h=e.targetRef!==void 0&&e.targetRef.value;h&&(n===null||n.id!==e.targetUid.value)&&(h.hasAttribute("tabindex")===!0||(h=h.querySelector("[tabindex]")),h&&h!==n&&h.focus({preventScroll:!0}))}function a(){se(o)}function r(){Je(o);const n=document.activeElement;n!==null&&e.rootRef.value.contains(n)&&n.blur()}function f(n){y!==null&&(clearTimeout(y),y=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,u("focus",n))}function c(n,h){y!==null&&clearTimeout(y),y=setTimeout(()=>{y=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,u("blur",n)),h!==void 0&&h())})}function d(n){le(n),m.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),u("update:modelValue",null),u("clear",t.modelValue),Z(()=>{T(),m.platform.is.mobile!==!0&&(q.value=!1)})}function V(){const n=[];return i.prepend!==void 0&&n.push(C("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:W},i.prepend())),n.push(C("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},p())),w.value===!0&&t.noErrorIcon===!1&&n.push(O("error",[C(re,{name:m.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?n.push(O("inner-loading-append",i.loading!==void 0?i.loading():[C(Ve,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&n.push(O("inner-clearable-append",[C(re,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||m.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:d})])),i.append!==void 0&&n.push(C("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:W},i.append())),e.getInnerAppend!==void 0&&n.push(O("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&n.push(e.getControlChild()),n}function p(){const n=[];return t.prefix!==void 0&&t.prefix!==null&&n.push(C("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&n.push(e.getShadowControl()),e.getControl!==void 0?n.push(e.getControl()):i.rawControl!==void 0?n.push(i.rawControl()):i.control!==void 0&&n.push(C("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},i.control(x.value))),z.value===!0&&n.push(C("div",{class:_.value},X(i.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&n.push(C("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),n.concat(X(i.default))}function F(){let n,h;w.value===!0?b.value!==null?(n=[C("div",{role:"alert"},b.value)],h=`q--slot-error-${b.value}`):(n=X(i.error),h="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(n=[C("div",t.hint)],h=`q--slot-hint-${t.hint}`):(n=X(i.hint),h="q--slot-hint"));const j=t.counter===!0||i.counter!==void 0;if(t.hideBottomSpace===!0&&j===!1&&n===void 0)return;const N=C("div",{key:h,class:"q-field__messages col"},n);return C("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:W},[t.hideBottomSpace===!0?N:C(Re,{name:"q-transition--field-message"},()=>N),j===!0?C("div",{class:"q-field__counter"},i.counter!==void 0?i.counter():e.computedCounter.value):null])}function O(n,h){return h===null?null:C("div",{key:n,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},h)}let D=!1;return we(()=>{D=!0}),xe(()=>{D===!0&&t.autofocus===!0&&s.focus()}),te(()=>{qe.value===!0&&t.for===void 0&&(e.targetUid.value=ue()),t.autofocus===!0&&s.focus()}),oe(()=>{y!==null&&clearTimeout(y)}),Object.assign(s,{focus:a,blur:r}),function(){const h=e.getControl===void 0&&i.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...A.value}:A.value;return C("label",{ref:e.rootRef,class:[R.value,v.class],style:v.style,...h},[i.before!==void 0?C("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:W},i.before()):null,C("div",{class:"q-field__inner relative-position col self-stretch"},[C("div",{ref:e.controlRef,class:I.value,tabindex:-1,...e.controlEvents},V()),M.value===!0?F():null]),i.after!==void 0?C("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:W},i.after()):null])}}const he={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ee={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Se=Object.keys(ee);Se.forEach(e=>{ee[e].regex=new RegExp(ee[e].pattern)});const dt=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Se.join("")+"])|(.)","g"),pe=/[.*+?^${}()|[\]\\]/g,P=String.fromCharCode(1),ft={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function ct(e,t,u,i){let v,s,m,y;const q=E(null),k=E(b());function w(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}L(()=>e.type+e.autogrow,g),L(()=>e.mask,o=>{if(o!==void 0)M(k.value,!0);else{const a=x(k.value);g(),e.modelValue!==a&&t("update:modelValue",a)}}),L(()=>e.fillMask+e.reverseFillMask,()=>{q.value===!0&&M(k.value,!0)}),L(()=>e.unmaskedValue,()=>{q.value===!0&&M(k.value)});function b(){if(g(),q.value===!0){const o=z(x(e.modelValue));return e.fillMask!==!1?A(o):o}return e.modelValue}function T(o){if(o<v.length)return v.slice(-o);let a="",r=v;const f=r.indexOf(P);if(f>-1){for(let c=o-r.length;c>0;c--)a+=P;r=r.slice(0,f)+a+r.slice(f)}return r}function g(){if(q.value=e.mask!==void 0&&e.mask.length>0&&w(),q.value===!1){y=void 0,v="",s="";return}const o=he[e.mask]===void 0?e.mask:he[e.mask],a=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",r=a.replace(pe,"\\$&"),f=[],c=[],d=[];let V=e.reverseFillMask===!0,p="",F="";o.replace(dt,(h,j,N,l,B)=>{if(l!==void 0){const $=ee[l];d.push($),F=$.negate,V===!0&&(c.push("(?:"+F+"+)?("+$.pattern+"+)?(?:"+F+"+)?("+$.pattern+"+)?"),V=!1),c.push("(?:"+F+"+)?("+$.pattern+")?")}else if(N!==void 0)p="\\"+(N==="\\"?"":N),d.push(N),f.push("([^"+p+"]+)?"+p+"?");else{const $=j!==void 0?j:B;p=$==="\\"?"\\\\\\\\":$.replace(pe,"\\\\$&"),d.push($),f.push("([^"+p+"]+)?"+p+"?")}});const O=new RegExp("^"+f.join("")+"("+(p===""?".":"[^"+p+"]")+"+)?"+(p===""?"":"["+p+"]*")+"$"),D=c.length-1,n=c.map((h,j)=>j===0&&e.reverseFillMask===!0?new RegExp("^"+r+"*"+h):j===D?new RegExp("^"+h+"("+(F===""?".":F)+"+)?"+(e.reverseFillMask===!0?"$":r+"*")):new RegExp("^"+h));m=d,y=h=>{const j=O.exec(e.reverseFillMask===!0?h:h.slice(0,d.length));j!==null&&(h=j.slice(1).join(""));const N=[],l=n.length;for(let B=0,$=h;B<l;B++){const H=n[B].exec($);if(H===null)break;$=$.slice(H.shift().length),N.push(...H)}return N.length>0?N.join(""):h},v=d.map(h=>typeof h=="string"?h:P).join(""),s=v.split(P).join(a)}function M(o,a,r){const f=i.value,c=f.selectionEnd,d=f.value.length-c,V=x(o);a===!0&&g();const p=z(V),F=e.fillMask!==!1?A(p):p,O=k.value!==F;f.value!==F&&(f.value=F),O===!0&&(k.value=F),document.activeElement===f&&Z(()=>{if(F===s){const n=e.reverseFillMask===!0?s.length:0;f.setSelectionRange(n,n,"forward");return}if(r==="insertFromPaste"&&e.reverseFillMask!==!0){const n=c-1;R.right(f,n,n);return}if(["deleteContentBackward","deleteContentForward"].indexOf(r)>-1){const n=e.reverseFillMask===!0?c===0?F.length>p.length?1:0:Math.max(0,F.length-(F===s?0:Math.min(p.length,d)+1))+1:c;f.setSelectionRange(n,n,"forward");return}if(e.reverseFillMask===!0)if(O===!0){const n=Math.max(0,F.length-(F===s?0:Math.min(p.length,d+1)));n===1&&c===1?f.setSelectionRange(n,n,"forward"):R.rightReverse(f,n,n)}else{const n=F.length-d;f.setSelectionRange(n,n,"backward")}else if(O===!0){const n=Math.max(0,v.indexOf(P),Math.min(p.length,c)-1);R.right(f,n,n)}else{const n=c-1;R.right(f,n,n)}});const D=e.unmaskedValue===!0?x(F):F;String(e.modelValue)!==D&&u(D,!0)}function U(o,a,r){const f=z(x(o.value));a=Math.max(0,v.indexOf(P),Math.min(f.length,a)),o.setSelectionRange(a,r,"forward")}const R={left(o,a,r,f){const c=v.slice(a-1).indexOf(P)===-1;let d=Math.max(0,a-1);for(;d>=0;d--)if(v[d]===P){a=d,c===!0&&a++;break}if(d<0&&v[a]!==void 0&&v[a]!==P)return R.right(o,0,0);a>=0&&o.setSelectionRange(a,f===!0?r:a,"backward")},right(o,a,r,f){const c=o.value.length;let d=Math.min(c,r+1);for(;d<=c;d++)if(v[d]===P){r=d;break}else v[d-1]===P&&(r=d);if(d>c&&v[r-1]!==void 0&&v[r-1]!==P)return R.left(o,c,c);o.setSelectionRange(f?a:r,r,"forward")},leftReverse(o,a,r,f){const c=T(o.value.length);let d=Math.max(0,a-1);for(;d>=0;d--)if(c[d-1]===P){a=d;break}else if(c[d]===P&&(a=d,d===0))break;if(d<0&&c[a]!==void 0&&c[a]!==P)return R.rightReverse(o,0,0);a>=0&&o.setSelectionRange(a,f===!0?r:a,"backward")},rightReverse(o,a,r,f){const c=o.value.length,d=T(c),V=d.slice(0,r+1).indexOf(P)===-1;let p=Math.min(c,r+1);for(;p<=c;p++)if(d[p-1]===P){r=p,r>0&&V===!0&&r--;break}if(p>c&&d[r-1]!==void 0&&d[r-1]!==P)return R.leftReverse(o,c,c);o.setSelectionRange(f===!0?a:r,r,"forward")}};function I(o){if(t("keydown",o),Fe(o)===!0)return;const a=i.value,r=a.selectionStart,f=a.selectionEnd;if(o.keyCode===37||o.keyCode===39){const c=R[(o.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];o.preventDefault(),c(a,r,f,o.shiftKey)}else o.keyCode===8&&e.reverseFillMask!==!0&&r===f?R.left(a,r,f,!0):o.keyCode===46&&e.reverseFillMask===!0&&r===f&&R.rightReverse(a,r,f,!0)}function z(o){if(o==null||o==="")return"";if(e.reverseFillMask===!0)return _(o);const a=m;let r=0,f="";for(let c=0;c<a.length;c++){const d=o[r],V=a[c];if(typeof V=="string")f+=V,d===V&&r++;else if(d!==void 0&&V.regex.test(d))f+=V.transform!==void 0?V.transform(d):d,r++;else return f}return f}function _(o){const a=m,r=v.indexOf(P);let f=o.length-1,c="";for(let d=a.length-1;d>=0&&f>-1;d--){const V=a[d];let p=o[f];if(typeof V=="string")c=V+c,p===V&&f--;else if(p!==void 0&&V.regex.test(p))do c=(V.transform!==void 0?V.transform(p):p)+c,f--,p=o[f];while(r===d&&p!==void 0&&V.regex.test(p));else return c}return c}function x(o){return typeof o!="string"||y===void 0?typeof o=="number"?y(""+o):o:y(o)}function A(o){return s.length-o.length<=0?o:e.reverseFillMask===!0&&o.length>0?s.slice(0,-o.length)+o:o+s.slice(o.length)}return{innerValue:k,hasMask:q,moveCursorForPaste:U,updateMaskValue:M,onMaskedKeydown:I}}function vt(e,t){function u(){const i=e.modelValue;try{const v="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(i)===i&&("length"in i?Array.from(i):[i]).forEach(s=>{v.items.add(s)}),{files:v.files}}catch{return{files:void 0}}}return t===!0?S(()=>{if(e.type==="file")return u()}):S(u)}const mt=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,gt=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,ht=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,pt=/[a-z0-9_ -]$/i;function bt(e){return function(u){if(u.type==="compositionend"||u.type==="change"){if(u.target.qComposing!==!0)return;u.target.qComposing=!1,e(u)}else u.type==="compositionupdate"&&u.target.qComposing!==!0&&typeof u.data=="string"&&(Ee.is.firefox===!0?pt.test(u.data)===!1:mt.test(u.data)===!0||gt.test(u.data)===!0||ht.test(u.data)===!0)===!0&&(u.target.qComposing=!0)}}var be=Ce({name:"QInput",inheritAttrs:!1,props:{...rt,...ft,...Ye,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ut,"paste","change","keydown","animationend"],setup(e,{emit:t,attrs:u}){const{proxy:i}=G(),{$q:v}=i,s={};let m=NaN,y,q,k=null,w;const b=E(null),T=et(e),{innerValue:g,hasMask:M,moveCursorForPaste:U,updateMaskValue:R,onMaskedKeydown:I}=ct(e,t,O,b),z=vt(e,!0),_=S(()=>ie(g.value)),x=bt(p),A=it(),o=S(()=>e.type==="textarea"||e.autogrow===!0),a=S(()=>o.value===!0||["text","search","url","tel","password"].includes(e.type)),r=S(()=>{const l={...A.splitAttrs.listeners.value,onInput:p,onPaste:V,onChange:n,onBlur:h,onFocus:fe};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=x,M.value===!0&&(l.onKeydown=I),e.autogrow===!0&&(l.onAnimationend=F),l}),f=S(()=>{const l={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:T.value,...A.splitAttrs.attributes.value,id:A.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return o.value===!1&&(l.type=e.type),e.autogrow===!0&&(l.rows=1),l});L(()=>e.type,()=>{b.value&&(b.value.value=e.modelValue)}),L(()=>e.modelValue,l=>{if(M.value===!0){if(q===!0&&(q=!1,String(l)===m))return;R(l)}else g.value!==l&&(g.value=l,e.type==="number"&&s.hasOwnProperty("value")===!0&&(y===!0?y=!1:delete s.value));e.autogrow===!0&&Z(D)}),L(()=>e.autogrow,l=>{l===!0?Z(D):b.value!==null&&u.rows>0&&(b.value.style.height="auto")}),L(()=>e.dense,()=>{e.autogrow===!0&&Z(D)});function c(){se(()=>{const l=document.activeElement;b.value!==null&&b.value!==l&&(l===null||l.id!==A.targetUid.value)&&b.value.focus({preventScroll:!0})})}function d(){b.value!==null&&b.value.select()}function V(l){if(M.value===!0&&e.reverseFillMask!==!0){const B=l.target;U(B,B.selectionStart,B.selectionEnd)}t("paste",l)}function p(l){if(!l||!l.target)return;if(e.type==="file"){t("update:modelValue",l.target.files);return}const B=l.target.value;if(l.target.qComposing===!0){s.value=B;return}if(M.value===!0)R(B,!1,l.inputType);else if(O(B),a.value===!0&&l.target===document.activeElement){const{selectionStart:$,selectionEnd:H}=l.target;$!==void 0&&H!==void 0&&Z(()=>{l.target===document.activeElement&&B.indexOf(l.target.value)===0&&l.target.setSelectionRange($,H)})}e.autogrow===!0&&D()}function F(l){t("animationend",l),D()}function O(l,B){w=()=>{k=null,e.type!=="number"&&s.hasOwnProperty("value")===!0&&delete s.value,e.modelValue!==l&&m!==l&&(m=l,B===!0&&(q=!0),t("update:modelValue",l),Z(()=>{m===l&&(m=NaN)})),w=void 0},e.type==="number"&&(y=!0,s.value=l),e.debounce!==void 0?(k!==null&&clearTimeout(k),s.value=l,k=setTimeout(w,e.debounce)):w()}function D(){requestAnimationFrame(()=>{const l=b.value;if(l!==null){const B=l.parentNode.style,{overflow:$}=l.style;v.platform.is.firefox!==!0&&(l.style.overflow="hidden"),B.marginBottom=l.scrollHeight-1+"px",l.style.height="1px",l.style.height=l.scrollHeight+"px",l.style.overflow=$,B.marginBottom=""}})}function n(l){x(l),k!==null&&(clearTimeout(k),k=null),w!==void 0&&w(),t("change",l.target.value)}function h(l){l!==void 0&&fe(l),k!==null&&(clearTimeout(k),k=null),w!==void 0&&w(),y=!1,q=!1,delete s.value,e.type!=="file"&&setTimeout(()=>{b.value!==null&&(b.value.value=g.value!==void 0?g.value:"")})}function j(){return s.hasOwnProperty("value")===!0?s.value:g.value!==void 0?g.value:""}oe(()=>{h()}),te(()=>{e.autogrow===!0&&D()}),Object.assign(A,{innerValue:g,fieldClass:S(()=>`q-${o.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:S(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:b,emitValue:O,hasValue:_,floatingLabel:S(()=>_.value===!0||ie(e.displayValue)),getControl:()=>C(o.value===!0?"textarea":"input",{ref:b,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...f.value,...r.value,...e.type!=="file"?{value:j()}:z.value}),getShadowControl:()=>C("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(o.value===!0?"":" text-no-wrap")},[C("span",{class:"invisible"},j()),C("span",e.shadowText)])});const N=st(A);return Object.assign(i,{focus:c,select:d,getNativeElement:()=>b.value}),ke(i,"nativeEl",()=>b.value),N}}),yt=Ce({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:u}){const i=G(),v=E(null);let s=0;const m=[];function y(g){const M=typeof g=="boolean"?g:e.noErrorFocus!==!0,U=++s,R=(_,x)=>{u("validation"+(_===!0?"Success":"Error"),x)},I=_=>{const x=_.validate();return typeof x.then=="function"?x.then(A=>({valid:A,comp:_}),A=>({valid:!1,comp:_,err:A})):Promise.resolve({valid:x,comp:_})};return(e.greedy===!0?Promise.all(m.map(I)).then(_=>_.filter(x=>x.valid!==!0)):m.reduce((_,x)=>_.then(()=>I(x).then(A=>{if(A.valid===!1)return Promise.reject(A)})),Promise.resolve()).catch(_=>[_])).then(_=>{if(_===void 0||_.length===0)return U===s&&R(!0),!0;if(U===s){const{comp:x,err:A}=_[0];if(A!==void 0&&console.error(A),R(!1,x),M===!0){const o=_.find(({comp:a})=>typeof a.focus=="function"&&Pe(a.$)===!1);o!==void 0&&o.comp.focus()}}return!1})}function q(){s++,m.forEach(g=>{typeof g.resetValidation=="function"&&g.resetValidation()})}function k(g){g!==void 0&&le(g);const M=s+1;y().then(U=>{M===s&&U===!0&&(e.onSubmit!==void 0?u("submit",g):g!==void 0&&g.target!==void 0&&typeof g.target.submit=="function"&&g.target.submit())})}function w(g){g!==void 0&&le(g),u("reset"),Z(()=>{q(),e.autofocus===!0&&e.noResetFocus!==!0&&b()})}function b(){se(()=>{if(v.value===null)return;const g=v.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||v.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||v.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(v.value.querySelectorAll("[tabindex]"),M=>M.tabIndex>-1);g!=null&&g.focus({preventScroll:!0})})}Be(ye,{bindComponent(g){m.push(g)},unbindComponent(g){const M=m.indexOf(g);M>-1&&m.splice(M,1)}});let T=!1;return we(()=>{T=!0}),xe(()=>{T===!0&&e.autofocus===!0&&b()}),te(()=>{e.autofocus===!0&&b()}),Object.assign(i.proxy,{validate:y,resetValidation:q,submit:k,reset:w,focus:b,getValidationComponents:()=>m}),()=>C("form",{class:"q-form",ref:v,onSubmit:k,onReset:w},X(t.default))}});const kt=Ie({name:"BaseLogin",setup(){const e=E(),t=E(),u=E(!0),i=Te(),v=E(""),s=E(!1),m=Oe(),y=async k=>{const w=new TextEncoder().encode(k),b=await crypto.subtle.digest("SHA-256",w);return Array.from(new Uint8Array(b)).map(g=>g.toString(16).padStart(2,"0")).join("")};return{changePasswordvisibility(){u.value=!u.value},doLogin:async()=>{const k="Username and password do not match.";v.value="",s.value=!0;const w=["https://database.deta.sh/v1",i.DETA_ID,i.DETA_NAME,"items",e.value].join("/"),b=await fetch(w,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-API-Key":i.DETA_KEY}});if(b.ok){const T=await b.json();T?y(t.value).then(g=>{T.password===g?(i.saveLoginState(e.value),m.push("/")):(v.value=k,s.value=!1)}):(v.value="Unknown error",s.value=!1)}else v.value="Unknown error",s.value=!1},errors:v,isPwd:u,loginDisabled:s,password:t,username:e}}}),de=e=>(Ke("data-v-0f4c7a70"),e=e(),He(),e),wt=de(()=>K("h4",null,"AFP4 Web-GIS",-1)),xt=de(()=>K("a",{href:"https://www.nuglobalsolutions.com/",target:"_blank"},[K("img",{alt:"NGS Logo",src:"img/logo.png",class:"logo"})],-1)),Ct=de(()=>K("legend",null,"Input credentials",-1)),St={class:"buttons"};function Mt(e,t,u,i,v,s){return De(),je("section",null,[Q(We,{dark:"",round:""},{default:ne(()=>[wt,Q(yt,{autofocus:!0,onSubmit:Le(e.doLogin,["prevent"])},{default:ne(()=>[xt,K("fieldset",null,[Ct,Q(be,{filled:"",modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=m=>e.username=m),label:"Username"},null,8,["modelValue"]),Q(be,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=m=>e.password=m),filled:"",type:e.isPwd?"password":"text",label:"Password"},{append:ne(()=>[Q(re,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:e.changePasswordvisibility},null,8,["name","onClick"])]),_:1},8,["modelValue","type"])]),Ue(K("div",{class:"errors"},Ne(e.errors),513),[[ze,e.errors]]),K("div",St,[Q(Ze,{label:"Login",type:"submit",color:"primary",class:"full-width",disabled:e.loginDisabled},null,8,["disabled"])])]),_:1},8,["onSubmit"])]),_:1})])}var Vt=$e(kt,[["render",Mt],["__scopeId","data-v-0f4c7a70"]]);export{Vt as default};
